{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\divya\\\\Downloads\\\\new-12\\\\ecommerce\\\\src\\\\components\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport { useDispatch } from \"react-redux\";\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport { addCart } from \"../redux/action\";\nimport Skeleton from \"react-loading-skeleton\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport { Link } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport ProductCard from \"./ProductCard\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Products = () => {\n  _s();\n  const [all, setAll] = useState([]);\n  const [list, setList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Map buttons to Fake Store API categories\n  const categories = useMemo(() => [{\n    key: \"all\",\n    label: \"All\"\n  }, {\n    key: \"men's clothing\",\n    label: \"Men\"\n  }, {\n    key: \"women's clothing\",\n    label: \"Women\"\n  }, {\n    key: \"jewelery\",\n    label: \"Jewelery\"\n  }, {\n    key: \"electronics\",\n    label: \"Electronics\"\n  }], []);\n  useEffect(() => {\n    const controller = new AbortController();\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(\"https://fakestoreapi.com/products/\", {\n          signal: controller.signal\n        });\n        const data = await res.json();\n\n        // Enrich with simple variants and stock so the card UI is test ready.\n        const enriched = data.map(p => ({\n          ...p,\n          variants: [{\n            label: \"Small\",\n            value: \"S\"\n          }, {\n            label: \"Medium\",\n            value: \"M\"\n          }, {\n            label: \"Large\",\n            value: \"L\"\n          }],\n          inStock: true\n        }));\n        setAll(enriched);\n        setList(enriched);\n      } catch (e) {\n        if (e.name !== \"AbortError\") {\n          console.error(\"Failed to load products\", e);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n    return () => controller.abort();\n  }, []);\n  const filterBy = catKey => {\n    if (catKey === \"all\") {\n      setList(all);\n    } else {\n      setList(all.filter(p => p.category === catKey));\n    }\n  };\n  const Loading = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center py-5\",\n    children: \"Loading products...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n  const Grid = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons d-flex flex-wrap justify-content-center gap-2 mb-4\",\n      children: categories.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-dark btn-sm\",\n        onClick: () => filterBy(c.key),\n        children: c.label\n      }, c.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), list.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-3 col-md-4 col-sm-6 col-12 mb-4 d-flex\",\n      children: /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-5 py-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"display-6 text-center\",\n          children: \"Latest Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"Y9Sniv3/F7h0+v5y717+XhaqSHc=\");\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["useDispatch","React","useState","useMemo","useEffect","addCart","Skeleton","Link","toast","ProductCard","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","all","setAll","list","setList","loading","setLoading","categories","key","label","controller","AbortController","load","res","fetch","signal","data","json","enriched","map","p","variants","value","inStock","e","name","console","error","abort","filterBy","catKey","filter","category","Loading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Grid","c","type","onClick","product","id","_c","$RefreshReg$"],"sources":["C:/Users/divya/Downloads/new-12/ecommerce/src/components/Products.jsx"],"sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport React, { useState, useMemo, useEffect } from \"react\";\r\nimport { addCart } from \"../redux/action\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nimport ProductCard from \"./ProductCard\";\r\n\r\nconst Products = () => {\r\n  const [all, setAll] = useState([]);\r\n  const [list, setList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Map buttons to Fake Store API categories\r\n  const categories = useMemo(\r\n    () => [\r\n      { key: \"all\", label: \"All\" },\r\n      { key: \"men's clothing\", label: \"Men\" },\r\n      { key: \"women's clothing\", label: \"Women\" },\r\n      { key: \"jewelery\", label: \"Jewelery\" },\r\n      { key: \"electronics\", label: \"Electronics\" },\r\n    ],\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    const load = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await fetch(\"https://fakestoreapi.com/products/\", {\r\n          signal: controller.signal,\r\n        });\r\n        const data = await res.json();\r\n\r\n        // Enrich with simple variants and stock so the card UI is test ready.\r\n        const enriched = data.map((p) => ({\r\n          ...p,\r\n          variants: [\r\n            { label: \"Small\", value: \"S\" },\r\n            { label: \"Medium\", value: \"M\" },\r\n            { label: \"Large\", value: \"L\" },\r\n          ],\r\n          inStock: true,\r\n        }));\r\n\r\n        setAll(enriched);\r\n        setList(enriched);\r\n      } catch (e) {\r\n        if (e.name !== \"AbortError\") {\r\n          console.error(\"Failed to load products\", e);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n    return () => controller.abort();\r\n  }, []);\r\n\r\n  const filterBy = (catKey) => {\r\n    if (catKey === \"all\") {\r\n      setList(all);\r\n    } else {\r\n      setList(all.filter((p) => p.category === catKey));\r\n    }\r\n  };\r\n\r\n  const Loading = () => (\r\n    <div className=\"text-center py-5\">Loading products...</div>\r\n  );\r\n\r\n  const Grid = () => (\r\n    <>\r\n      <div className=\"buttons d-flex flex-wrap justify-content-center gap-2 mb-4\">\r\n        {categories.map((c) => (\r\n          <button\r\n            key={c.key}\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark btn-sm\"\r\n            onClick={() => filterBy(c.key)}\r\n          >\r\n            {c.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {list.map((product) => (\r\n        <div\r\n          key={product.id}\r\n          className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-4 d-flex\"\r\n        >\r\n          <ProductCard product={product} />\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container my-5 py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"display-6 text-center\">Latest Products</h2>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        {loading ? <Loading /> : <Grid />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}